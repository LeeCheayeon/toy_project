<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <ul id="menu"></ul>
  <div id = "submenu"></div>

  <script>
    const menu = document.querySelector("#menu");
    console.dir(menu);
    const submenu = document.querySelector("#submenu");
    console.dir(submenu);

    let menuArr = ["기본", "눈", "코/입", "눈썹", "뒷머리", "앞머리" , "귀", "의상","장식1","장식2","뒷장식"]
    
    function creatMenu (){
      // 메뉴 생성을 하는 함수
      for(let i =0; i<menuArr.length; i++){
        const newMenu =document.createElement('li');
        const newMeText = document.createTextNode(menuArr[i]);
        newMenu.appendChild(newMeText);
        menu.appendChild(newMenu);
      };
    };

    creatMenu();

    function box (target, width, height,backgroundColor){
      target.style.width = width;
      target.style.height = height;
      target.style.backgroundColor = backgroundColor;
    }

    // Q. 하고싶은 것 ----------------------------------------------------
    // 1. 하단처럼 이미지박스를 만들어서 배열로 할 생각 
    // >> 그런데 이미지 파일을 적으려고 하는데 어떻게 적어야하는지 잘 모르겠다. 
    let imageBox = {
      eyes : "src./imges/base_눈_1.svg" 
    }

    // 2. 위처럼 만든 후 메뉴"눈"을 클릭하면 imageBox의 eyes의 길이값만큼 newBox가 생성되도록 하고 싶다.
    // 3. 그 후 생성된 박스를 클릭하면 이미지가 main에 보이도록 설정
    // 옷입히기처럼 눈을 선택하면 상단의 이미지가 있는 부분에 선택한 눈 이미지가 나타나도록 하는 것 과 같음.


    // 메뉴를 하나 누르면(click) 선택한 메뉴의 창이 새롭게 나오도록??
    // 위와 같이 새로운 appendchild를 사용하면 된다고 하셨다
    function createElement(){
      const newElement = document.createElement("div");
      submenu.appendChild(newElement);
      
      // 이미지의 갯수만큼 박스를 만들어줘. for문으로 쓰려고 하는데 잘 모르겠다.
      const newbox = document.createElement('div');
      newElement.appendChild(newbox);
      box(newbox, '8vw','8vw',"#c4c4c4");
    }

    // 기존의 트루일때 생성하고 폴스일때 생성을 멈추는 것  ----------------------
    // let isStatus = true;
    // menu.addEventListener("click", function(){
    //   if(isStatus === true){
    //     createElement();
    //     console.log("click");
    //     // true 일때만 생성 
    //     if(submenu.childElementCount === menuArr.length){
    //       console.log("그만 생성해줘.");
    //       isStatus = false;
    //       // false일때 생성 종료
    //     }
    //   }
    // });
    // ----------------------------------------------------------------------
    
    let isStatus = true;
    // Q. 다른 메뉴를 클릭하면 그전에 생성된 박스를 삭제하고 새로운 박스를 만들어줘?
    // 이부분은 dataset을 이용해서 target을 설정해서 하면 되는 걸까...?
    // Q. 만약 submenu에 자식이 하나라도 있다면? 삭제하고 새로 만들도록 설정 하기  
    menu.addEventListener("click", function(){
      if(isStatus === true){
        createElement();
        console.log("click");
        // true 일때만 생성 
        isStatus = false;
        console.log(isStatus);
      }else{
        //만약 false일때? 
      } if(submenu.children >= 1){
        // 만약 submenu의 자식이 하나보다 많거나 같다면?
        // 자식을 삭제해줘
        console.log("자식이 하나 이상이다.");
        // submenu.removechild(newElement);
        isStatus=true;
        console.log(isStatus);

      }
        
    });

  </script>
</body>
</html>